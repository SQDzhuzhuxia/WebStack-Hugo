{{ if $.Site.Params.nightMode }}
<body class="io-black-mode">
{{ else }}
<body class="io-grey-mode">
{{ end }}
    {{ if $.Site.Params.enablePreLoad }}
    <div id="loading">
        <style>
            .loader {
                width: 250px;
                height: 50px;
                line-height: 50px;
                text-align: center;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                font-family: helvetica, arial, sans-serif;
                font-weight: 900;
                color: #f1404b;
                letter-spacing: 0.2em
            }

            .loader::before,
            .loader::after {
                content: "";
                display: block;
                width: 15px;
                height: 15px;
                background: #f1404b;
                position: absolute;
                animation: load .7s infinite alternate ease-in-out
            }

            .loader::before {
                top: 0
            }

            .loader::after {
                bottom: 0
            }

            @keyframes load {
                0% {
                    left: 0;
                    height: 30px;
                    width: 15px
                }

                50% {
                    height: 8px;
                    width: 40px
                }

                100% {
                    left: 235px;
                    height: 30px;
                    width: 15px
                }
            }
        </style>
        <div class="loader">{{ $.Site.Params.textPreLoad }}</div>
    </div>
    {{ end }}
    <div class="page-container">
	{{ if $.Site.Params.expandSidebar }}
	<div id="sidebar" class="sticky sidebar-nav fade animate-nav" style="width: 170px">
        {{ else }}
        <div id="sidebar" class="sticky sidebar-nav fade mini-sidebar" style="width: 60px;">
	{{ end }}
            <div class="modal-dialog h-100 sidebar-nav-inner">
                <div class="sidebar-logo border-bottom border-color">
                    <!-- logo -->
                    <div class="logo overflow-hidden">
                        <a href="{{ relURL "/" }}" class="logo-expanded">
                            <img src="/{{ $.Site.Params.images.logoExpandLight }}" height="40" class="logo-light"
                                alt="{{ .Site.Title }}">
                            <img src="/{{ $.Site.Params.images.logoExpandDark }}" height="40" class="logo-dark d-none"
                                alt="{{ .Site.Title }}">
                        </a>
                        <a href="{{ relURL "/" }}" class="logo-collapsed">
                            <img src="/{{ $.Site.Params.images.logoCollapseLight }}" height="40" class="logo-light"
                                alt="{{ .Site.Title }}">
                            <img src="/{{ $.Site.Params.images.logoCollapseDark }}" height="40" class="logo-dark d-none"
                                alt="{{ .Site.Title }}">
                        </a>
                    </div>
                    <!-- logo end -->
                </div>
                <div class="sidebar-menu flex-fill">
                    <div class="sidebar-scroll">
                        <div class="sidebar-menu-inner">
                            <ul>
                                <!-- 首页链接 -->
                                <li class="sidebar-item">
                                    <a href="{{ relURL "/" }}">
                                        <i class="fas fa-home icon-fw icon-lg mr-2"></i>
                                        <span>首页</span>
                                    </a>
                                </li>
                                {{ range .Site.Data.webstack }}
                                    {{ $slug := .taxonomy | urlize }}
                                    {{ if eq .taxonomy "常用推荐" }}{{ $slug = "changyong" }}{{ end }}
                                    {{ if eq .taxonomy "人工智能" }}{{ $slug = "ai" }}{{ end }}
                                    {{ if eq .taxonomy "区块链" }}{{ $slug = "blockchain" }}{{ end }}
                                    {{ if eq .taxonomy "计算机科学" }}{{ $slug = "cs" }}{{ end }}
                                    {{ if eq .taxonomy "游戏开发" }}{{ $slug = "gamedev" }}{{ end }}
                                    {{ if eq .taxonomy "金融经济" }}{{ $slug = "finance" }}{{ end }}
                                    {{ if eq .taxonomy "游戏" }}{{ $slug = "game" }}{{ end }}
                                    {{ if eq .taxonomy "GTD" }}{{ $slug = "gtd" }}{{ end }}
                                    {{ if eq .taxonomy "笔记软件" }}{{ $slug = "notes" }}{{ end }}
                                    {{ if eq .taxonomy "其他" }}{{ $slug = "other" }}{{ end }}
                                    {{ if eq .taxonomy "待整理" }}{{ $slug = "pending" }}{{ end }}
                                    
                                    {{ if eq .taxonomy "常用推荐" }}
                                    <!-- 常用推荐指向首页 -->
                                    <li class="sidebar-item">
                                        <a href="{{ relURL "/" }}#{{ md5 .taxonomy }}">
                                            <i class="{{ .icon }} fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>{{ .taxonomy }}</span>
                                        </a>
                                    </li>
                                    {{ else if .list }}
                                    <li class="sidebar-item">
                                        <a href="{{ relURL (printf "category/%s/" $slug) }}">    
                                            <i class="{{ .icon }} icon-fw icon-lg mr-2"></i>
                                            <span>{{ .taxonomy }}</span>
                                            <i class="iconfont icon-arrow-r-m sidebar-more text-sm"></i>
                                        </a>
                                        <ul>
                                            {{ range .list }}
                                            <li><a href="{{ relURL (printf "category/%s/" $slug) }}#{{ md5 .term }}"><span>{{ .term }}</span></a></li>
                                            {{ end }}
                                        </ul>
                                    </li> 
                                    {{ else }}
                                    <li class="sidebar-item">
                                        <a href="{{ relURL (printf "category/%s/" $slug) }}">
                                            <i class="{{ .icon }} fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>{{ .taxonomy }}</span>
                                        </a>
                                    </li>
                                    {{ end }}
                                {{ end }}
                            </ul>           
                        </div>
                    </div>
                </div>
                <div class="border-top py-2 border-color">
                    <div class="flex-bottom">
                        <ul>
                            <li id="menu-item-237"
                                class="menu-item menu-item-type-post_type menu-item-object-page menu-item-237 sidebar-item">
                                <a href="{{ $.Site.Params.upload }}" target="_blank">
                                    <i class="fas fa-file-upload icon-fw icon-lg mr-2"></i>
                                    <span>网站提交</span></a>
                            </li>

			    <li id="menu-item-212"
                                 class="menu-item menu-item-type-custom menu-item-object-custom menu-item-212 sidebar-item">
                                 <a href="{{ relURL "/" }}#friendlink" class="smooth">
                                     <i class="fab fa-staylinked icon-fw icon-lg mr-2"></i>
                                     <span>友情链接</span>
                                 </a>
                            </li>

                            <li id="menu-item-213"
                                class="menu-item menu-item-type-custom menu-item-object-custom menu-item-213 sidebar-item">
                                <a target="_blank" rel="noopener" href="{{ $.Site.Params.about }}">
                                    <i class="fa fa-info-circle icon-fw icon-lg mr-2"></i>
                                    <span>关于导航</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
